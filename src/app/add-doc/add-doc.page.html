<ion-header>
  <ion-toolbar >
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title>Subir Documento</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-card>
    <ion-card-header>
      <ion-card-title>Información del Documento</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <form (ngSubmit)="onSubmit()">
        <ion-item>
          <ion-label position="floating">Nombre del documento</ion-label>
          <ion-input type="text" [(ngModel)]="documentName" name="documentName" required></ion-input>
        </ion-item>
        
        <ion-item>
          <ion-label position="floating">Categoría</ion-label>
          <ion-select [(ngModel)]="documentCategory" name="documentCategory" required>
            <ion-select-option value="informe">Informe</ion-select-option>
            <ion-select-option value="contrato">Contrato</ion-select-option>
            <ion-select-option value="factura">Factura</ion-select-option>
            <ion-select-option value="otro">Otro</ion-select-option>
          </ion-select>
        </ion-item>
        
        <ion-item>
          <ion-label position="floating">Descripción (opcional)</ion-label>
          <ion-textarea [(ngModel)]="documentDescription" name="documentDescription" rows="3"></ion-textarea>
        </ion-item>
        
        <ion-item lines="none">
          <ion-label>Seleccionar archivo</ion-label>
          <ion-button fill="outline" (click)="fileInput.click()">
            <ion-icon slot="start" name="document-attach-outline"></ion-icon>
            Elegir archivo
          </ion-button>
          <input #fileInput type="file" (change)="onFileChange($event)" accept=".pdf,.doc,.docx" style="display: none;" required>
        </ion-item>
        <ion-text color="medium" *ngIf="selectedFile">
          Archivo seleccionado: {{ selectedFile.name }}
        </ion-text>
        
        <div class="ion-padding-top">
          <ion-button expand="block" type="submit" [disabled]="!documentName || !selectedFile || !documentCategory">
            <ion-icon slot="start" name="cloud-upload-outline"></ion-icon>
            Subir Documento
          </ion-button>
        </div>
      </form>
    </ion-card-content>
  </ion-card>
</ion-content>

